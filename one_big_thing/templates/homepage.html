{% import "macros.html" as macros with context%}
{% extends "base_generic_gov.html" %}

{% block title %}
  <title>Overview - One Big Thing - GOV.UK</title>
{% endblock %}

{% block content %}

  {% if data.completed_obt %}
    <div class="govuk-notification-banner govuk-notification-banner--success" role="alert" aria-labelledby="govuk-notification-banner-title" data-module="govuk-notification-banner">
    <div class="govuk-notification-banner__header">
      <h2 class="govuk-notification-banner__title" id="govuk-notification-banner-title">
        One Big Thing Complete
      </h2>
    </div>
    <div class="govuk-notification-banner__content">
      <h3 class="govuk-notification-banner__heading">
          Well done for completing {{ humanize_timedelta(data.time_completed, 200, "over 200 hours") }} so far!</h3>

          {% if data.completed_feedback_survey %}

          {% else %}
          <p class="govuk-body">
            You should provide <a class="govuk-link" href="{{url('intro-post-survey')}}">feedback</a> about your One Big Thing experience. Your answers will be used to measure the effect of One Big Thing.
          </p>
          {% endif %}
          
          <p class="govuk-body">
            You can also download your <a target="_blank" rel="noopener noreferrer" href="{{static('Certificate-OBT.pdf')}}" class="govuk-link">One Big Thing certificate</a> to celebrate your completion.
          </p>
    </div>
    </div>
  {% endif %}

  <h1 class="govuk-heading-l">One Big Thing overview</h1>
    <div aria-labelledby="step-by-step-title" role="region">
      <p class="govuk-body">Based on your survey answers, your learning level is: <strong>{{data.selected_level_label}}</strong></p>
      <p class="govuk-body">We recommend you start with learning resources marked as suitable for your level.</p>
      <p class="govuk-body">These are the recommended steps for One Big Thing</p>
      <div id="step-by-step" class="step-by-step">
        <div class="step-by-step--step-label">
          <div class="step-by-step--step-circle">
            <h2 class="step-by-step--step-number govuk-body"><span class="govuk-visually-hidden">Step </span>1</h2>
          </div>
        </div>
        <div aria-labelledby="step-by-step-step-1-title" class="step-by-step--content">
          <div class="step-by-step--content-title">
            <h3 id="step-by-step-step-1-title" class="govuk-heading-m">Learn</h3>
          </div>
          <p class="govuk-body"><strong>Complete 7 hours of learning on the topic of data.</strong></p>
          <p class="govuk-body">Start with your e-learning. Your learning level suggests you should do:</p>
          <p class="govuk-body"><a class="govuk-link" target="_blank" href={{data.selected_level_course.link}}>{{data.selected_level_course.title}}</a> (opens in Civil Service Learning)</p>
          <details class="govuk-details" data-module="govuk-details">
            <summary class="govuk-details__summary">
              <span class="govuk-details__summary-text">
                See e-learning for all learning levels
              </span>
            </summary>
            <div class="govuk-details__text">
              {% for course in data.all_level_courses %}
                <p><a class="govuk-link" target="_blank" href={{course.link}}>{{course.title}}</a> (opens in Civil Service Learning)</p>
              {% endfor %}
            </div>
          </details>
        </div>
        <div class="step-by-step--step-label">
          <div class="step-by-step--step-no-circle">
            <p class="step-by-step--step-number govuk-body">and</p>
          </div>
        </div>
        <div class="step-by-step--content">
          <p class="govuk-body">Attend a team conversation about data.</p>
          <p class="govuk-body">Your department will decide if this should be a 1:1 conversation, a team meeting or an all staff call. Please ask your line manager for details.</p>
        </div>
        <div class="step-by-step--step-label">
          <div class="step-by-step--step-no-circle">
            <p class="step-by-step--step-number govuk-body">and</p>
          </div>
        </div>
        <div class="step-by-step--content">
          <p class="govuk-body">Do some further learning on the topic of data.</p>
          <p class="govuk-body">You can find more learning:</p>
          <ul class="govuk-list govuk-list--bullet">
            <li>on your <a class="govuk-link" href="{{url('department-links')}}">department's intranet</a></li>
            <li>on the <a class="govuk-link" href="{{url('additional-learning')}}">additional learning catalogue</a></li>
            <li>by talking to your line manager</li>
          </ul>
          <details class="govuk-details" data-module="govuk-details">
            <summary class="govuk-details__summary">
              <span class="govuk-details__summary-text">
                What learning counts?
              </span>
            </summary>
            <div class="govuk-details__text">
              <p>Any learning you have done on the topic of data between 1 April 2023 and 31 December 2023 counts towards your One Big Thing hours.</p>
              <p>Data is a broad topic and includes, but is not limited to: data visualisation statistics, data quality, data protection and security, data analysis, data science, coding and artificial intelligence (AI).</p>
              <p>The learning can be in any format. You can watch videos, read articles or listen to podcasts. You can attend conferences or workshops. You can complete an online or in person course. You can shadow a colleague, or ask a data expert to talk to your team.</p>
            </div>
          </details>
      </div>
      <div class="step-by-step--step-label">
        <div class="step-by-step--step-circle">
          <h2 class="step-by-step--step-number govuk-body"><span class="govuk-visually-hidden">Step </span>2</h2>
        </div>
      </div>
      <div aria-labelledby="step-by-step-step-2-title" class="step-by-step--content">
        <div class="step-by-step--content-title">
          <h3 id="step-by-step-step-2-title" class="govuk-heading-m">Record</h3>
          <a class="govuk-button" href="{{url('record-learning')}}">Record</a>
        </div>
        <p class="govuk-body"><strong>Record all the learning you've done</strong></p>
        <div class="govuk-inset-text">
          You have recorded {{humanize_timedelta(data.time_completed)}} of learning so far.
        </div>
        <p class="govuk-body">You should record your learning as you do it to help keep track of the hours you have completed.</p>
      </div>
        <div class="step-by-step--step-label">
          <div class="step-by-step--step-circle">
            <h2 class="step-by-step--step-number govuk-body"><span class="govuk-visually-hidden">Step </span>3</h2>
          </div>
        </div>
        <div aria-labelledby="step-by-step-step-3-title" class="step-by-step--content" id="complete-exit-survey-step">
          <div class="step-by-step--content-title">
            <h3 id="step-by-step-step-3-title" class="govuk-heading-m">Feedback</h3>
            {% if data.completed_feedback_survey %}
                <p class="govuk-phase-banner__content">
                  <strong class="govuk-tag govuk-phase-banner__content__tag">
                    Completed
                  </strong>
                </p>
            {% else %}
              <a class="govuk-button" href="{{url('intro-post-survey')}}">Feedback</a>
            {% endif %}
          </div>
          <p class="govuk-body"><strong>Tell us about your One Big Thing experience.</strong></p>
          <p class="govuk-body">Once you have recorded all of your learning you should complete an exit survey.</p>
          <p class="govuk-body">Your answers will be used to measure the effect of One Big Thing.</p>
        </div>
      </div>
    </div>
{% endblock %}
